Con Usuario Admin

[cloudshell-user@ip-10-132-45-62 ~]$ aws s3api create-bucket --bucket bootcamp_test_s3 --region us-east-2                  

An error occurred (IllegalLocationConstraintException) when calling the CreateBucket operation: The unspecified location constraint is incompatible for the region specific endpoint this request was sent to.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3api create-bucket --bucket bootcamp_test_s3

An error occurred (IllegalLocationConstraintException) when calling the CreateBucket operation: The unspecified location constraint is incompatible for the region specific endpoint this request was sent to.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3api create-bucket --bucket bootcamp_test_s3 --region "US East (Ohio) us-east-2" 

Provided region_name 'US East (Ohio) us-east-2' doesn't match a supported format.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 mb s3://DevOps_Desafio3_Testmake_bucket failed: s3://DevOps_Desafio3_Test An error occurred (InvalidBucketName) when calling the CreateBucket operation: The specified bucket is not valid.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 mb s3://DevOps-Desafio3-Test                                                   make_bucket failed: s3://DevOps-Desafio3-Test An error occurred (InvalidBucketName) when calling the CreateBucket operation: The specified bucket is not valid.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 mb s3://DevOps-Desafio3-Test-RCSmake_bucket failed: s3://DevOps-Desafio3-Test-RCS An error occurred (InvalidBucketName) when calling the CreateBucket operation: The specified bucket is not valid.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 mb s3://EdIT_BootCamp_Devops_2024make_bucket failed: s3://EdIT_BootCamp_Devops_2024 An error occurred (InvalidBucketName) when calling the CreateBucket operation: The specified bucket is not valid.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 ls
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 ls
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 mb s3://rjnoi23jh0932jhr0932jntro23jnrp
make_bucket: rjnoi23jh0932jhr0932jntro23jnrp
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 ls
2024-09-12 05:34:41 rjnoi23jh0932jhr0932jntro23jnrp
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-policy --policy-name Desafio3-S3-ReadAccess --policy-document file://Bucket_Desfio3_Write.json
{
    "Policy": {
        "PolicyName": "Desafio3-S3-ReadAccess",
        "PolicyId": "ANPA47GCAMD3XSFACNUN4",
        "Arn": "arn:aws:iam::891612586231:policy/Desafio3-S3-ReadAccess",
        "Path": "/",
        "DefaultVersionId": "v1",
        "AttachmentCount": 0,
        "PermissionsBoundaryUsageCount": 0,
        "IsAttachable": true,
        "CreateDate": "2024-09-12T05:56:13+00:00",
        "UpdateDate": "2024-09-12T05:56:13+00:00"
    }
}
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-role --role-name S3_Write_Permission_Desafio3

usage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]
To see help text, you can run:

  aws help
  aws <command> help
  aws <command> <subcommand> help

aws: error: the following arguments are required: --assume-role-policy-document

[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-role --role-name S3_Write_Permission_Desafio3 --assume-role-policy-document file://Assume-role-pollilcy-desafio3.json

Error parsing parameter '--assume-role-policy-document': Unable to load paramfile file://Assume-role-pollilcy-desafio3.json: [Errno 2] No such file or directory: 'Assume-role-pollilcy-desafio3.json'
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-role --role-name S3_Write_Permission_Desafio3 --assume-role-policy-document file://Assume_Role_Desafio3_Role.json
{
    "Role": {
        "Path": "/",
        "RoleName": "S3_Write_Permission_Desafio3",
        "RoleId": "AROA47GCAMD374XUVLP3V",
        "Arn": "arn:aws:iam::891612586231:role/S3_Write_Permission_Desafio3",
        "CreateDate": "2024-09-12T06:15:16+00:00",
        "AssumeRolePolicyDocument": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Action": "sts:AssumeRole",
                    "Principal": {
                        "AWS": "891612586231"
                    },
                    "Condition": {}
                }
            ]
        }
    }
}
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam attach-role-policy --policy-arn arn:aws:iam::891612586231:policy/Desafio3-S3-ReadAccess --role-name S3_Write_Permission_Desafio3
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-user --user-name s3-support
{
    "User": {
        "Path": "/",
        "UserName": "s3-support",
        "UserId": "AIDA47GCAMD3SXOKH5CXK",
        "Arn": "arn:aws:iam::891612586231:user/s3-support",
        "CreateDate": "2024-09-12T06:25:10+00:00"
    }
}
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam create-access-key --user-name s3-support
{
    "AccessKey": {
        "UserName": "s3-support",
        "AccessKeyId": "AKIA47GCAMD3ZPC4C5FM",
        "Status": "Active",
        "SecretAccessKey": "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",
        "CreateDate": "2024-09-12T06:26:05+00:00"
    }
}
[cloudshell-user@ip-10-132-45-62 ~]$ aws configure --profile s3-support
AWS Access Key ID [None]: AKIA47GCAMD3ZPC4C5FM
AWS Secret Access Key [None]: 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
Default region name [None]: us-east-2
Default output format [None]: json
[cloudshell-user@ip-10-132-45-62 ~]$ aws iam ls

usage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]
To see help text, you can run:

  aws help
  aws <command> help
  aws <command> <subcommand> help

aws: error: argument operation: Invalid choice, valid choices are:

add-client-id-to-open-id-connect-provider | add-role-to-instance-profile            
add-user-to-group                        | attach-group-policy                     
attach-role-policy                       | attach-user-policy                      
change-password                          | create-access-key                       
create-account-alias                     | create-group                            
create-instance-profile                  | create-login-profile                    
create-open-id-connect-provider          | create-policy                           
create-policy-version                    | create-role                             
create-saml-provider                     | create-service-linked-role              
create-service-specific-credential       | create-user                             
create-virtual-mfa-device                | deactivate-mfa-device                   
delete-access-key                        | delete-account-alias                    
delete-account-password-policy           | delete-group                            
delete-group-policy                      | delete-instance-profile                 
delete-login-profile                     | delete-open-id-connect-provider         
delete-policy                            | delete-policy-version                   
delete-role                              | delete-role-permissions-boundary        
delete-role-policy                       | delete-saml-provider                    
delete-ssh-public-key                    | delete-server-certificate               
delete-service-linked-role               | delete-service-specific-credential      
delete-signing-certificate               | delete-user                             
delete-user-permissions-boundary         | delete-user-policy                      
delete-virtual-mfa-device                | detach-group-policy                     
detach-role-policy                       | detach-user-policy                      
enable-mfa-device                        | generate-credential-report              
generate-organizations-access-report     | generate-service-last-accessed-details  
get-access-key-last-used                 | get-account-authorization-details       
get-account-password-policy              | get-account-summary                     
get-context-keys-for-custom-policy       | get-context-keys-for-principal-policy   
get-credential-report                    | get-group                               
get-group-policy                         | get-instance-profile                    
get-login-profile                        | get-mfa-device                          
get-open-id-connect-provider             | get-organizations-access-report         
get-policy                               | get-policy-version                      
get-role                                 | get-role-policy                         
get-saml-provider                        | get-ssh-public-key                      
get-server-certificate                   | get-service-last-accessed-details       
get-service-last-accessed-details-with-entities | get-service-linked-role-deletion-status 
get-user                                 | get-user-policy                         
list-access-keys                         | list-account-aliases                    
list-attached-group-policies             | list-attached-role-policies             
list-attached-user-policies              | list-entities-for-policy                
list-group-policies                      | list-groups                             
list-groups-for-user                     | list-instance-profile-tags              
list-instance-profiles                   | list-instance-profiles-for-role         
list-mfa-device-tags                     | list-mfa-devices                        
list-open-id-connect-provider-tags       | list-open-id-connect-providers          
list-policies                            | list-policies-granting-service-access   
list-policy-tags                         | list-policy-versions                    
list-role-policies                       | list-role-tags                          
list-roles                               | list-saml-provider-tags                 
list-saml-providers                      | list-ssh-public-keys                    
list-server-certificate-tags             | list-server-certificates                
list-service-specific-credentials        | list-signing-certificates               
list-user-policies                       | list-user-tags                          
list-users                               | list-virtual-mfa-devices                
put-group-policy                         | put-role-permissions-boundary           
put-role-policy                          | put-user-permissions-boundary           
put-user-policy                          | remove-client-id-from-open-id-connect-provider
remove-role-from-instance-profile        | remove-user-from-group                  
reset-service-specific-credential        | resync-mfa-device                       
set-default-policy-version               | set-security-token-service-preferences  
simulate-custom-policy                   | simulate-principal-policy               
tag-instance-profile                     | tag-mfa-device                          
tag-open-id-connect-provider             | tag-policy                              
tag-role                                 | tag-saml-provider                       
tag-server-certificate                   | tag-user                                
untag-instance-profile                   | untag-mfa-device                        
untag-open-id-connect-provider           | untag-policy                            
untag-role                               | untag-saml-provider                     
untag-server-certificate                 | untag-user                              
update-access-key                        | update-account-password-policy          
update-assume-role-policy                | update-group                            
update-login-profile                     | update-open-id-connect-provider-thumbprint
update-role                              | update-role-description                 
update-saml-provider                     | update-ssh-public-key                   
update-server-certificate                | update-service-specific-credential      
update-signing-certificate               | update-user                             
upload-ssh-public-key                    | upload-server-certificate               
upload-signing-certificate               | wizard                                  
wait                                     | help                                    

[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 cp Assume-role-pollilcy-desafio3.json s3://rjnoi23jh0932jhr0932jntro23jnrp/

The user-provided path Assume-role-pollilcy-desafio3.json does not exist.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 cp Assume-rBucket_Desfio3_Write.json s3://rjnoi23jh0932jhr0932jntro23jnrp/

The user-provided path Assume-rBucket_Desfio3_Write.json does not exist.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 cp file://Assume-rBucket_Desfio3_Write.json s3://rjnoi23jh0932jhr0932jntro23jnrp/

The user-provided path file://Assume-rBucket_Desfio3_Write.json does not exist.
[cloudshell-user@ip-10-132-45-62 ~]$ ls
Assume_Role_Desafio3_Role.json  Bucket_Desfio3_Write.json
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 cp ./Assume-rBucket_Desfio3_Write.json s3://rjnoi23jh0932jhr0932jntro23jnrp/

The user-provided path ./Assume-rBucket_Desfio3_Write.json does not exist.
[cloudshell-user@ip-10-132-45-62 ~]$ aws s3 cp ./Assume_Role_Desafio3_Role.json s3://rjnoi23jh0932jhr0932jntro23jnrp/
upload: ./Assume_Role_Desafio3_Role.json to s3://rjnoi23jh0932jhr0932jntro23jnrp/Assume_Role_Desafio3_Role.json
[cloudshell-user@ip-10-132-45-62 ~]$ aws configure list-profiles
default
s3-support
[cloudshell-user@ip-10-132-45-62 ~]$ aws

